# Action

## Overview

See [Beeker overview](/) for more information.

## Example yaml configuration file

```yml filename="update-page-title.action.yml" copy
name: update-page-title
label: Example - Update page title
description: Allow to update example page title
group: Example

parallelize: true

variables:
  - name: title
    label: Title

rules:
  - name: update-page-title
    target: ./page.tsx
```

> Note: The extension for this configuration file needs to be .action.yml

## Configuration keywords

### Root

| Keyword                      | Description                                                                                                           | Required |
| :--------------------------- | :-------------------------------------------------------------------------------------------------------------------- | :------- |
| name\*                       | The name of the action.                                                                                               | âœ”        |
| label                        | A nice label for the action.                                                                                          | âœ˜        |
| description                  | A short text describing what the action will do.                                                                      | âœ˜        |
| group                        | The parent group of the action, for grouping actions together.                                                        | âœ˜        |
| parallelize                  | Set to true if rules should be applied in parallel, of false if it should be applied sequentially. (defaults to true) | âœ˜        |
| target_root_dir              | All paths to target files will be considered relative to this directory.                                              | âœ˜        |
| [variables](action#variable) | The list of variables that will be injected to rules.                                                                 | âœ˜        |
| [rules\*](action#rule)       | The list of rules to apply with this action.                                                                          | âœ”        |

### Variable

| Keyword       | Description                                                                               | Required |
| :------------ | :---------------------------------------------------------------------------------------- | :------- |
| name\*        | The technical name of the variable.                                                       | âœ”        |
| label         | The label displayed next to inputs in beeker apps.                                        | âœ˜        |
| description   | The description displayed in a tooltip on 'â’¾' next to inputs in beeker apps.              | âœ˜        |
| value         | The value of the variable.                                                                | âœ˜        |
| default_value | The default value of the variable, displayed in the placeholder of inputs in beeker apps. | âœ˜        |
| required      | Set this to false to make the variable optional (defaults to true).                       | âœ˜        |

### Rule

| Keyword                        | Description                                                                                                                | Required |
| :----------------------------- | :------------------------------------------------------------------------------------------------------------------------- | :------- |
| name\*                         | The reference name of the rule.                                                                                            | âœ”        |
| target\*                       | The relative path to the file modified by the rule.                                                                        | âœ”        |
| [context](action#context-file) | The relative path to the file (if single), or the list of the files that will serve as context for the rule (if multiple). | âœ˜        |
| path                           | The relative path to the configuration file of the rule. Defaults to file name.                                            | âœ˜        |
| spec                           | The content of the rule.                                                                                                   | âœ˜        |
| only                           | Set this to true to apply only this rule in action (defaults to false).                                                    | âœ˜        |

### Context File

| Keyword | Description                                               | Required |
| :------ | :-------------------------------------------------------- | :------- |
| name\*  | The name of the context reference for use in the rule.    | âœ”        |
| path\*  | The relative path to the file that will serve as context. | âœ”        |

#### Shortcuts

If you want to add only one file to the context, you can provide directly the path of the file :

```yml
rules:
  - name: example-rule
    target: ./target.tsx
    context: ./context.tsx
```

If you want to add multiple files to the context without specifying context names, you can provide a list of paths :

```yml
rules:
  - name: example-rule
    target: ./target.tsx
    context:
      - ./context1.tsx
      - ./context2.tsx
```

> ðŸ’¡ The default context names will be Context1, Context2, etc... if not specified.
